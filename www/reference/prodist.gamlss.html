<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extracting Fitted or Predicted Probability Distributions from gamlss Models — prodist.gamlss • topmodels</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Extracting Fitted or Predicted Probability Distributions from gamlss Models — prodist.gamlss"><meta property="og:description" content="Methods for gamlss model objects for extracting
fitted (in-sample) or predicted (out-of-sample) probability distribution
objects."><meta property="og:image" content="https://topmodels.R-Forge.R-project.org/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@MoritzNLang"><meta name="twitter:site" content="@MoritzNLang"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">topmodels</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/topmodels.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/goodness_of_fit.html">Goodness of Fit of Probabilistic Regression Models</a>
    </li>
    <li>
      <a href="../articles/graphics.html">Graphics for Assessing Goodness of Fit</a>
    </li>
    <li>
      <a href="../articles/illustration_fifa_2018.html">Illustration: Goals in the 2018 FIFA World Cup</a>
    </li>
    <li>
      <a href="../articles/illustration_rain_ibk.html">Illustration: Precipitation Forecasts in Innsbruck</a>
    </li>
    <li>
      <a href="../articles/illustration_artificial.html">Illustration: Artificial Data</a>
    </li>
    <li>
      <a href="../articles/implementation.html">Implementation Overview</a>
    </li>
    <li>
      <a href="../articles/procast.html">Probabilistic Forecasting Infrastructure</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../contact.html">Contact</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracting Fitted or Predicted Probability Distributions from gamlss Models</h1>
    
    <div class="hidden name"><code>prodist.gamlss.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Methods for <span class="pkg">gamlss</span> model objects for extracting
fitted (in-sample) or predicted (out-of-sample) probability distribution
objects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for gamlss</span></span>
<span><span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/prodist.html" class="external-link">prodist</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>A model object of class <code><a href="https://rdrr.io/pkg/gamlss/man/gamlss.html" class="external-link">gamlss</a></code>.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="https://rdrr.io/pkg/gamlss/man/predict.gamlss.html" class="external-link">predictAll</a></code>, 
e.g., <code>newdata</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object inheriting from <code>distribution</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>To facilitate making probabilistic forecasts based on <code><a href="https://rdrr.io/pkg/gamlss/man/gamlss.html" class="external-link">gamlss</a></code>
model objects, the <code><a href="https://alexpghayes.github.io/distributions3/reference/prodist.html" class="external-link">prodist</a></code> method extracts fitted or
predicted probability <code>distribution</code> objects. Internally, the
<code><a href="https://rdrr.io/pkg/gamlss/man/predict.gamlss.html" class="external-link">predictAll</a></code> method from the <span class="pkg">gamlss</span> package is
used first to obtain the distribution parameters (<code>mu</code>, <code>sigma</code>, <code>tau</code>,
<code>nu</code>, or a subset thereof). Subsequently, the corresponding <code>distribution</code>
object is set up using <code><a href="GAMLSS.html">GAMLSS</a></code>, enabling the workflow provided by
the <span class="pkg">distributions3</span> package.</p>
<p>Note that these probability distributions only reflect the random variation in
the dependent variable based on the model employed (and its associated
distributional assumption for the dependent variable). This does not capture
the uncertainty in the parameter estimates.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="GAMLSS.html">GAMLSS</a></code> <code><a href="https://rdrr.io/pkg/gamlss/man/predict.gamlss.html" class="external-link">predictAll</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"gamlss"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"_R_CHECK_PACKAGE_NAME_"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"not all packages required for the example are installed"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span> <span class="kw">else</span> <span class="fu"><a href="https://rdrr.io/r/base/quit.html" class="external-link">q</a></span><span class="op">(</span><span class="op">)</span> <span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required namespace: gamlss</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## packages, code, and data</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://www.gamlss.com/" class="external-link">"gamlss"</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: splines</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: gamlss.data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘gamlss.data’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:datasets’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     sleep</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: gamlss.dist</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: MASS</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘gamlss.dist’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:distributions3’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     GP</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:topmodels’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     GAMLSS</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: parallel</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  **********   GAMLSS Version 5.4-10  ********** </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For more on GAMLSS look at https://www.gamlss.com/</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Type gamlssNews() to see new features/changes/bug fixes.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘gamlss’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:distributions3’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     random</span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/alexpghayes/distributions3" class="external-link">"distributions3"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"cars"</span>, package <span class="op">=</span> <span class="st">"datasets"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## fit heteroscedastic normal GAMLSS model</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gamlss/man/gamlss.html" class="external-link">gamlss</a></span><span class="op">(</span><span class="va">dist</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/gamlss/man/ps.html" class="external-link">pb</a></span><span class="op">(</span><span class="va">speed</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/gamlss/man/ps.html" class="external-link">pb</a></span><span class="op">(</span><span class="va">speed</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">cars</span>, family <span class="op">=</span> <span class="st">"NO"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 1: Global Deviance = 405.0909 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 2: Global Deviance = 405.5848 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 3: Global Deviance = 405.6121 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 4: Global Deviance = 405.6143 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 5: Global Deviance = 405.6151 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## obtain predicted distributions for three levels of speed</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/prodist.html" class="external-link">prodist</a></span><span class="op">(</span><span class="va">m</span>, newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new prediction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New way of prediction in pb()  (starting from GAMLSS version 5.0-3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new prediction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New way of prediction in pb()  (starting from GAMLSS version 5.0-3) </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "GAMLSS NO distribution (mu = 23.04, sigma = 10.03)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "GAMLSS NO distribution (mu = 58.91, sigma = 18.54)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "GAMLSS NO distribution (mu = 96.44, sigma = 34.28)"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## obtain quantiles (works the same for any distribution object 'd' !!)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 23.03774 58.91010 96.44087</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span><span class="op">)</span>, elementwise <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        q_0.05    q_0.5    q_0.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  6.54516 23.03774  39.53033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 28.41281 58.91010  89.40739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 40.04718 96.44087 152.83456</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span><span class="op">)</span>, elementwise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   6.54516  58.91010 152.83456</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## visualization</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dist</span> <span class="op">~</span> <span class="va">speed</span>, data <span class="op">=</span> <span class="va">cars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>speed <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">240</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nd</span><span class="op">$</span><span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/prodist.html" class="external-link">prodist</a></span><span class="op">(</span><span class="va">m</span>, newdata <span class="op">=</span> <span class="va">nd</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new prediction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New way of prediction in pb()  (starting from GAMLSS version 5.0-3) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new prediction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New way of prediction in pb()  (starting from GAMLSS version 5.0-3) </span>
<span class="r-in"><span><span class="va">nd</span><span class="op">$</span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">nd</span><span class="op">$</span><span class="va">dist</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span><span class="va">nd</span><span class="op">$</span><span class="va">speed</span>, <span class="va">nd</span><span class="op">$</span><span class="va">fit</span>, type <span class="op">=</span> <span class="st">"l"</span>, lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="st">"slategray"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="prodist.gamlss-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## moments</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 23.03774 58.91010 96.44087</span>
<span class="r-in"><span><span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/variance.html" class="external-link">variance</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  100.5363  343.7700 1175.4562</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## simulate random numbers</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/random.html" class="external-link">random</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in random(d, 5):</span> random() expects a factor as its first argument</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## density and distribution</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/pdf.html" class="external-link">pdf</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">50</span> <span class="op">*</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            d_-100        d_-50          d_0        d_50        d_100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 7.993342e-35 1.196174e-13 0.0028406272 0.001070505 6.402020e-15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 2.408383e-18 6.923852e-10 0.0001382448 0.019170274 1.846234e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 8.651411e-10 1.271130e-06 0.0002226492 0.004649219 1.157355e-02</span>
<span class="r-in"><span><span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/cdf.html" class="external-link">cdf</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">50</span> <span class="op">*</span> <span class="op">-</span><span class="fl">2</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            p_-100        p_-50          p_0       p_50     p_100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 6.488959e-35 1.617107e-13 0.0107916676 0.99641695 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 5.141843e-18 2.126983e-09 0.0007433125 0.31541429 0.9866597</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 5.031698e-09 9.717270e-06 0.0024546680 0.08777945 0.5413401</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## further diagnostics: graphical and scores</span></span></span>
<span class="r-in"><span><span class="fu"><a href="pithist.html">pithist</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="prodist.gamlss-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="qqrplot.html">qqrplot</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="prodist.gamlss-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="proscore.html">proscore</a></span><span class="op">(</span><span class="va">m</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LogLik"</span>, <span class="st">"CRPS"</span>, <span class="st">"MAE"</span>, <span class="st">"MSE"</span><span class="op">)</span>, aggregate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      LogLik     CRPS      MAE      MSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -4.056151 8.111661 11.31396 228.3665</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## note that proscore can replicate logLik() value</span></span></span>
<span class="r-in"><span><span class="fu"><a href="proscore.html">proscore</a></span><span class="op">(</span><span class="va">m</span>, aggregate <span class="op">=</span> <span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   loglikelihood</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     -202.8075</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">logLik</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'log Lik.' -202.8075 (df=4.230591)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Poisson example</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"FIFA2018"</span>, package <span class="op">=</span> <span class="st">"distributions3"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/gamlss/man/gamlss.html" class="external-link">gamlss</a></span><span class="op">(</span><span class="va">goals</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/gamlss/man/ps.html" class="external-link">pb</a></span><span class="op">(</span><span class="va">difference</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">FIFA2018</span>, family <span class="op">=</span> <span class="st">"PO"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 1: Global Deviance = 355.3941 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GAMLSS-RS iteration 2: Global Deviance = 355.3941 </span>
<span class="r-in"><span><span class="va">d2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://alexpghayes.github.io/distributions3/reference/prodist.html" class="external-link">prodist</a></span><span class="op">(</span><span class="va">m2</span>, newdata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>difference <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> new prediction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> New way of prediction in pb()  (starting from GAMLSS version 5.0-3) </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">d2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "GAMLSS PO distribution (mu = 1.237)"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">d2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 1 3</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Achim Zeileis, Moritz N. Lang, Reto Stauffer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

