<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Procast: Probabilistic Forecasting — procast • topmodels</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Procast: Probabilistic Forecasting — procast" />
<meta property="og:description" content="Generic function and methods for computing various kinds of forecasts from
probabilistic (regression) models (probabilistic 4-casting)." />
<meta property="og:image" content="https://topmodels.R-Forge.R-project.org/logo.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@MoritzNLang" />
<meta name="twitter:site" content="@MoritzNLang" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">topmodels</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/topmodels.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../contact.html">Contact</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Procast: Probabilistic Forecasting</h1>
    
    <div class="hidden name"><code>procast.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generic function and methods for computing various kinds of forecasts from
probabilistic (regression) models (probabilistic 4-casting).</p>
    </div>

    <pre class="usage"><span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='st'>"quantile"</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>procast_setup</span><span class='op'>(</span><span class='va'>pars</span>, <span class='va'>FUN</span>, at <span class='op'>=</span> <span class='cn'>NULL</span>, drop <span class='op'>=</span> <span class='cn'>FALSE</span>, type <span class='op'>=</span> <span class='st'>"procast"</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for lm</span>
<span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"quantile"</span>, <span class='st'>"location"</span>, <span class='st'>"scale"</span>, <span class='st'>"parameter"</span>, <span class='st'>"density"</span>, <span class='st'>"probability"</span>,
    <span class='st'>"score"</span><span class='op'>)</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for crch</span>
<span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"quantile"</span>, <span class='st'>"location"</span>, <span class='st'>"scale"</span>, <span class='st'>"parameter"</span>, <span class='st'>"density"</span>, <span class='st'>"probability"</span>,
    <span class='st'>"score"</span><span class='op'>)</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for disttree</span>
<span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"quantile"</span>, <span class='st'>"location"</span>, <span class='st'>"scale"</span>, <span class='st'>"parameter"</span>, <span class='st'>"density"</span>, <span class='st'>"probability"</span>,
    <span class='st'>"score"</span><span class='op'>)</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  use_distfamily <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for glm</span>
<span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"quantile"</span>, <span class='st'>"location"</span>, <span class='st'>"scale"</span>, <span class='st'>"parameter"</span>, <span class='st'>"density"</span>, <span class='st'>"probability"</span>,
    <span class='st'>"score"</span><span class='op'>)</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='co'># S3 method for distforest</span>
<span class='fu'>procast</span><span class='op'>(</span>
  <span class='va'>object</span>,
  newdata <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.action <span class='op'>=</span> <span class='va'>na.pass</span>,
  type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"quantile"</span>, <span class='st'>"location"</span>, <span class='st'>"scale"</span>, <span class='st'>"parameter"</span>, <span class='st'>"density"</span>, <span class='st'>"probability"</span>,
    <span class='st'>"score"</span><span class='op'>)</span>,
  at <span class='op'>=</span> <span class='fl'>0.5</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>,
  use_distfamily <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>a fitted model object. For the <code>default</code> method this
needs to be <code>formula</code>-based so that <code><a href='https://rdrr.io/r/stats/model.frame.html'>model.frame</a></code>
can be used to extract the response from the original data the model was
fitted to or <code><a href='https://rdrr.io/r/stats/terms.html'>terms</a></code> can be used to set up the response
on <code>newdata</code>.</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>optionally, a data frame in which to look for variables with
which to predict. If omitted, the original observations are used.</p></td>
    </tr>
    <tr>
      <th>na.action</th>
      <td><p>function determining what should be done with missing
values in <code>newdata</code>.  The default is to employ <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>character specifying the type of probabilistic forecast to
compute.  In <code>procast_setup</code> the <code>type</code> is only used for nice
labels of the returned data frame.</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>specification of values at which the forecasts should be
evaluated, typically a numeric vector but possibly also a matrix or data
frame.  Additionally, <code>at</code> can be the character string
<code>"function"</code> or <code>"list"</code>, see details below.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further parameters passed to methods.</p></td>
    </tr>
    <tr>
      <th>pars</th>
      <td><p>a data frame of predicted distribution parameters.</p></td>
    </tr>
    <tr>
      <th>FUN</th>
      <td><p>function to be used for forecasts. Either of type <code>FUN(pars,
...)</code> or <code>FUN(at, pars, ...)</code>, see details below.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>logical. Should forecasts be returned in a data frame (default)
or (if possible) dropped to a vector, see details below.</p></td>
    </tr>
    <tr>
      <th>use_distfamily</th>
      <td><p>For intern use only, will not be supported in the future.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either a <code>data.frame</code> of predictions (in case of multivariate
forecasts, or if <code>drop = FALSE</code>, default) or a vector (in case of a
univariate forecast and additionally <code>drop = TRUE</code>). Unless <code>at</code>
is the character string <code>"function"</code> or <code>"list"</code> in which case a
(list of) function(s) is returned.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function <code>procast</code> provides a unified framework for probabilistic
4-casting based on probabilistic (regression) models, also known as
distributional regression approaches. Typical types of predictions include
quantiles, probabilities, (conditional) expectations, variances,
(log-)densities, or scores. Internally, <code>procast</code> methods typically
compute the predicted parameters for each observation and then transform
these to the desired outcome. Some quantities (e.g., expectations or
variances) can be computed directly from the predicted parameters of the
distribution while others require an additional argument <code>at</code> which the
distribution is evaluated (e.g., the probability of a quantile or an
observation of the response. The argument <code>at</code> can also be the
character <code>"function"</code> or <code>"list"</code> so that a single function or
list of functions is set up that can be evaluated <code>at</code> different values
later on.</p>
<p>The function <code>procast_setup</code> is a convenience wrapper that make setting
up <code>procast</code> methods easier for package developers. It takes a data
frame of predicted parameters <code>pars</code> and a function <code>FUN</code> which is
to be evaluated at the parameters. This can either have the interface
<code>FUN(pars, ...)</code> when the desired quantity can be predicted
directly from the predicted parameters -- or the interface <code>FUN(at,
pars, ...)</code> if an additional argument <code>at</code> is needed.
<code>procast_setup</code> takes care of suitable expanding <code>at</code> to the
dimensions of <code>pars</code> and optionally setting up a (list of) function(s)
to be returned.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## linear regression models (homoscedastic Gaussian response)</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>dist</span> <span class='op'>~</span> <span class='va'>speed</span>, data <span class='op'>=</span> <span class='va'>cars</span><span class='op'>)</span>

<span class='co'>## medians on observed data</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     quantile
#&gt; 1  -1.849460
#&gt; 2  -1.849460
#&gt; 3   9.947766
#&gt; 4   9.947766
#&gt; 5  13.880175
#&gt; 6  17.812584
#&gt; 7  21.744993
#&gt; 8  21.744993
#&gt; 9  21.744993
#&gt; 10 25.677401
#&gt; 11 25.677401
#&gt; 12 29.609810
#&gt; 13 29.609810
#&gt; 14 29.609810
#&gt; 15 29.609810
#&gt; 16 33.542219
#&gt; 17 33.542219
#&gt; 18 33.542219
#&gt; 19 33.542219
#&gt; 20 37.474628
#&gt; 21 37.474628
#&gt; 22 37.474628
#&gt; 23 37.474628
#&gt; 24 41.407036
#&gt; 25 41.407036
#&gt; 26 41.407036
#&gt; 27 45.339445
#&gt; 28 45.339445
#&gt; 29 49.271854
#&gt; 30 49.271854
#&gt; 31 49.271854
#&gt; 32 53.204263
#&gt; 33 53.204263
#&gt; 34 53.204263
#&gt; 35 53.204263
#&gt; 36 57.136672
#&gt; 37 57.136672
#&gt; 38 57.136672
#&gt; 39 61.069080
#&gt; 40 61.069080
#&gt; 41 61.069080
#&gt; 42 61.069080
#&gt; 43 61.069080
#&gt; 44 68.933898
#&gt; 45 72.866307
#&gt; 46 76.798715
#&gt; 47 76.798715
#&gt; 48 76.798715
#&gt; 49 76.798715
#&gt; 50 80.731124</div><div class='input'><span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         1         2         3         4         5         6         7         8 
#&gt; -1.849460 -1.849460  9.947766  9.947766 13.880175 17.812584 21.744993 21.744993 
#&gt;         9        10        11        12        13        14        15        16 
#&gt; 21.744993 25.677401 25.677401 29.609810 29.609810 29.609810 29.609810 33.542219 
#&gt;        17        18        19        20        21        22        23        24 
#&gt; 33.542219 33.542219 33.542219 37.474628 37.474628 37.474628 37.474628 41.407036 
#&gt;        25        26        27        28        29        30        31        32 
#&gt; 41.407036 41.407036 45.339445 45.339445 49.271854 49.271854 49.271854 53.204263 
#&gt;        33        34        35        36        37        38        39        40 
#&gt; 53.204263 53.204263 53.204263 57.136672 57.136672 57.136672 61.069080 61.069080 
#&gt;        41        42        43        44        45        46        47        48 
#&gt; 61.069080 61.069080 61.069080 68.933898 72.866307 76.798715 76.798715 76.798715 
#&gt;        49        50 
#&gt; 76.798715 80.731124 </div><div class='input'>
<span class='co'>## probability integral transform (PIT) on observed data</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, type <span class='op'>=</span> <span class='st'>"probability"</span>, at <span class='op'>=</span> <span class='va'>cars</span><span class='op'>$</span><span class='va'>dist</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    probability
#&gt; 1   0.60081531
#&gt; 2   0.78417003
#&gt; 3   0.34652997
#&gt; 4   0.78808978
#&gt; 5   0.55593701
#&gt; 6   0.30206903
#&gt; 7   0.40186398
#&gt; 8   0.61117046
#&gt; 9   0.79196758
#&gt; 10  0.28235827
#&gt; 11  0.56124732
#&gt; 12  0.15012467
#&gt; 13  0.26182584
#&gt; 14  0.35484277
#&gt; 15  0.45746181
#&gt; 16  0.30835554
#&gt; 17  0.51211772
#&gt; 18  0.51211772
#&gt; 19  0.79580317
#&gt; 20  0.22318530
#&gt; 21  0.46102201
#&gt; 22  0.93252054
#&gt; 23  0.99761426
#&gt; 24  0.07771442
#&gt; 25  0.15328579
#&gt; 26  0.79833667
#&gt; 27  0.18801555
#&gt; 28  0.36154337
#&gt; 29  0.12585715
#&gt; 30  0.26917860
#&gt; 31  0.51926989
#&gt; 32  0.22857810
#&gt; 33  0.57359365
#&gt; 34  0.93483116
#&gt; 35  0.97950682
#&gt; 36  0.08035724
#&gt; 37  0.22993764
#&gt; 38  0.76451836
#&gt; 39  0.02686025
#&gt; 40  0.19289135
#&gt; 41  0.27363944
#&gt; 42  0.36828670
#&gt; 43  0.57710851
#&gt; 44  0.42281413
#&gt; 45  0.10528374
#&gt; 46  0.32593113
#&gt; 47  0.84346190
#&gt; 48  0.85884627
#&gt; 49  0.99792760
#&gt; 50  0.61152323</div><div class='input'>
<span class='co'>## log-likelihood contributions</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, type <span class='op'>=</span> <span class='st'>"density"</span>, at <span class='op'>=</span> <span class='va'>cars</span><span class='op'>$</span><span class='va'>dist</span>, log <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      density
#&gt; 1  -3.664198
#&gt; 2  -3.940745
#&gt; 3  -3.709465
#&gt; 4  -3.951417
#&gt; 5  -3.641463
#&gt; 6  -3.765968
#&gt; 7  -3.662451
#&gt; 8  -3.671435
#&gt; 9  -3.962270
#&gt; 10 -3.797370
#&gt; 11 -3.643447
#&gt; 12 -4.168112
#&gt; 13 -3.834916
#&gt; 14 -3.700864
#&gt; 15 -3.637275
#&gt; 16 -3.756827
#&gt; 17 -3.632030
#&gt; 18 -3.632030
#&gt; 19 -3.973305
#&gt; 20 -3.921494
#&gt; 21 -3.636357
#&gt; 22 -4.748826
#&gt; 23 -7.613609
#&gt; 24 -4.640642
#&gt; 25 -4.154263
#&gt; 26 -3.980761
#&gt; 27 -4.023387
#&gt; 28 -3.694346
#&gt; 29 -4.288451
#&gt; 30 -3.820865
#&gt; 31 -3.632736
#&gt; 32 -3.907993
#&gt; 33 -3.648779
#&gt; 34 -4.775808
#&gt; 35 -5.719858
#&gt; 36 -4.615314
#&gt; 37 -3.904668
#&gt; 38 -3.891426
#&gt; 39 -5.492250
#&gt; 40 -4.007665
#&gt; 41 -3.812676
#&gt; 42 -3.688149
#&gt; 43 -3.650484
#&gt; 44 -3.650523
#&gt; 45 -4.415329
#&gt; 46 -3.733349
#&gt; 47 -4.140395
#&gt; 48 -4.209543
#&gt; 49 -7.741199
#&gt; 50 -3.671696</div><div class='input'>
<span class='co'>## log-likelihood sum</span>
<span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, type <span class='op'>=</span> <span class='st'>"density"</span>, at <span class='op'>=</span> <span class='va'>cars</span><span class='op'>$</span><span class='va'>dist</span>, log <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -206.5784</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/stats/logLik.html'>logLik</a></span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 'log Lik.' -206.5784 (df=3)</div><div class='input'>

<span class='co'>## medians on new data</span>
<span class='va'>nd</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>speed <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>15</span>, <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, newdata <span class='op'>=</span> <span class='va'>nd</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   quantile
#&gt; 1 21.74499
#&gt; 2 41.40704
#&gt; 3 61.06908</div><div class='input'>
<span class='co'>## different quantile for each observation</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, newdata <span class='op'>=</span> <span class='va'>nd</span>, at <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   quantile
#&gt; 1 11.58120
#&gt; 2 41.40704
#&gt; 3 71.23287</div><div class='input'>
<span class='co'>## all combinations of quantiles and observations</span>
<span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, newdata <span class='op'>=</span> <span class='va'>nd</span>, at <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     q_0.25    q_0.5   q_0.75
#&gt; 1 11.58120 21.74499 31.90878
#&gt; 2 31.24325 41.40704 51.57083
#&gt; 3 50.90529 61.06908 71.23287</div><div class='input'>
<span class='co'>## function for computing quantiles (vectorized)</span>
<span class='va'>qnt1</span> <span class='op'>&lt;-</span> <span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, newdata <span class='op'>=</span> <span class='va'>nd</span>, at <span class='op'>=</span> <span class='st'>"function"</span><span class='op'>)</span>
<span class='co'>## as before</span>
<span class='fu'>qnt1</span><span class='op'>(</span><span class='fl'>0.5</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        1        2        3 
#&gt; 21.74499 41.40704 61.06908 </div><div class='input'><span class='fu'>qnt1</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        1        2        3 
#&gt; 11.58120 41.40704 71.23287 </div><div class='input'><span class='fu'>qnt1</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;     q_0.25    q_0.5   q_0.75
#&gt; 1 11.58120 21.74499 31.90878
#&gt; 2 31.24325 41.40704 51.57083
#&gt; 3 50.90529 61.06908 71.23287</div><div class='input'>
<span class='co'>## list of functions</span>
<span class='va'>qnt2</span> <span class='op'>&lt;-</span> <span class='fu'>procast</span><span class='op'>(</span><span class='va'>m</span>, newdata <span class='op'>=</span> <span class='va'>nd</span>, at <span class='op'>=</span> <span class='st'>"list"</span><span class='op'>)</span>
<span class='va'>qnt2</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='output co'>#&gt; function (at, mu = 21.7449927007299, sigma = 15.0688559957914, 
#&gt;     ...) 
#&gt; FUN(at = at, pars = data.frame(mu = mu, sigma = sigma), ...)
#&gt; &lt;environment: 0x555c8c9cdd90&gt;</div><div class='input'><span class='va'>qnt2</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>(</span><span class='fl'>0.5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 21.74499</div><div class='input'><span class='va'>qnt2</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 11.58120 21.74499 31.90878</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Achim Zeileis, Moritz N. Lang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


